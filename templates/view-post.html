{% include 'include/header.html' %}

{% block content %}
<div class="content-wrapper">
   <div class="content-header">
      <div class="container-fluid">
         <div class="row mb-2">
            <div class="col-md-6">
               <h1 class="m-0">Blog Table</h1>
            </div>
            <div class="col-md-6">
               <ol class="breadcrumb float-md-right">
                  <li class="breadcrumb-item"><a href="#">Home</a></li>
                  <li class="breadcrumb-item active">View Blog</li>
               </ol>
            </div>
         </div>
      </div>
   </div>
   <section class="content">
      <div class="container-fluid">
         <div class="row">
            <div class="col-md-12">
               <div class="card card-primary">
                  <div class="card-header">
                     <div class="row">
                        <div class="col-md-10">
                           <h3 class="card-title">View Blog</h3>
                        </div>
                        <div class="col-md-2">
                           <a href="/add-post" class="btn btn-primary">Add Blog</a>
                        </div>
                     </div>
                  </div>
                  <div class="card-body">
                     <!-- Blog Table -->
                     <div class="table-responsive">
                        <table id="blogTable" class="table table-bordered table-striped">
                           <thead>
                               <tr>
                                   <th>#</th>
                                   <th>Post Name</th>
                                   <th>Post Title</th>
                                   <th>Images</th>
                                   <th>Details</th>
                                   <th>Audio</th>
                                   <th>Main post</th>
                                   <th>Section</th>
                                   <th>Slug</th>
                                   <th>Status</th>
                                   <th>Publish Date</th>
                                   <th>Action</th>
                               </tr>
                           </thead>
                           <tbody>
                               {% for post in blogview %}
                               <tr>
                                   <td>{{ post.id }}</td>
                                   <td>{{ post.post_name }}</td>
                                   <td>{{ post.post_title }}</td>
                                   <td>
                                       {% if post.image %}
                                       <img src="{{ post.image.url }}" alt="Images" class="img-thumbnail" width="50px">
                                       {% else %}
                                       No Image
                                       {% endif %}
                                   </td>
                                   <td>{{ post.details|striptags|truncatechars:20 }}</td>
                                   <td>{{ post.audio }}</td>
                                   <td>{{ post.main_post }}</td>
                                   <td>{{ post.section }}</td>
                                   <td>{{ post.slug }}</td>
                                   <td>{{ post.status }}</td>
                                   <td>{{ post.publish_date }}</td>
                                   <td>
                                    <a href="/edit-blog/{{ post.id }}" class="btn btn-primary"><i class="fa fa-edit"></i></a>
                                    <!-- Button for editing the blog post -->
                                    <a href="/delete-blog/{{ post.id }}" class="btn btn-danger"><i class="fa fa-trash"></i></a>
                                    <!-- Button for deleting the blog post -->
                                </td>
                                
                               </tr>
                               {% endfor %}
                           </tbody>
                       </table>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </section>
</div>
{% include 'include/footer.html' %}

<script>
   $(document).ready(function() {
      $('#blogTable').DataTable();
   });
</script>
{% endblock %}
